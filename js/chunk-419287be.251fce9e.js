(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-419287be"],{1925:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s}));var r=n("b775"),a=function(t){return Object(r["a"])({url:"/app/v1_0/search",method:"GET",params:t})},i=function(t){return Object(r["a"])({url:"/app/v1_0/suggestion",method:"GET",params:{q:t}})},s=function(t){return Object(r["a"])({url:"/app/v1_0/article/likings",method:"POST",data:{target:t}})}},2532:function(t,e,n){"use strict";var r=n("23e7"),a=n("5a34"),i=n("1d80"),s=n("ab13");r({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~String(i(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},5319:function(t,e,n){"use strict";var r=n("d784"),a=n("825a"),i=n("7b0b"),s=n("50c4"),c=n("a691"),o=n("1d80"),l=n("8aa5"),u=n("14c3"),h=Math.max,f=Math.min,v=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,n,r){var b=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=r.REPLACE_KEEPS_$0,y=b?"$":"$0";return[function(n,r){var a=o(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,a,r):e.call(String(a),n,r)},function(t,r){if(!b&&m||"string"===typeof r&&-1===r.indexOf(y)){var i=n(e,t,this,r);if(i.done)return i.value}var o=a(t),v=String(this),d="function"===typeof r;d||(r=String(r));var g=o.global;if(g){var k=o.unicode;o.lastIndex=0}var x=[];while(1){var E=u(o,v);if(null===E)break;if(x.push(E),!g)break;var _=String(E[0]);""===_&&(o.lastIndex=l(v,s(o.lastIndex),k))}for(var w="",C=0,$=0;$<x.length;$++){E=x[$];for(var T=String(E[0]),O=h(f(c(E.index),v.length),0),A=[],P=1;P<E.length;P++)A.push(p(E[P]));var R=E.groups;if(d){var M=[T].concat(A,O,v);void 0!==R&&M.push(R);var j=String(r.apply(void 0,M))}else j=S(T,v,O,A,R,r);O>=C&&(w+=v.slice(C,O)+j,C=O+T.length)}return w+v.slice(C)}];function S(t,n,r,a,s,c){var o=r+t.length,l=a.length,u=g;return void 0!==s&&(s=i(s),u=d),e.call(c,u,(function(e,i){var c;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(o);case"<":c=s[i.slice(1,-1)];break;default:var u=+i;if(0===u)return e;if(u>l){var h=v(u/10);return 0===h?e:h<=l?void 0===a[h-1]?i.charAt(1):a[h-1]+i.charAt(1):e}c=a[u-1]}return void 0===c?"":c}))}}))},"5a34":function(t,e,n){var r=n("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},a434:function(t,e,n){"use strict";var r=n("23e7"),a=n("23cb"),i=n("a691"),s=n("50c4"),c=n("7b0b"),o=n("65f0"),l=n("8418"),u=n("1dde"),h=n("ae40"),f=u("splice"),v=h("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,g=Math.min,p=9007199254740991,b="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!v},{splice:function(t,e){var n,r,u,h,f,v,m=c(this),y=s(m.length),S=a(t,y),k=arguments.length;if(0===k?n=r=0:1===k?(n=0,r=y-S):(n=k-2,r=g(d(i(e),0),y-S)),y+n-r>p)throw TypeError(b);for(u=o(m,r),h=0;h<r;h++)f=S+h,f in m&&l(u,h,m[f]);if(u.length=r,n<r){for(h=S;h<y-r;h++)f=h+r,v=h+n,f in m?m[v]=m[f]:delete m[v];for(h=y;h>y-r+n;h--)delete m[h-1]}else if(n>r)for(h=y-r;h>S;h--)f=h+r-1,v=h+n-1,f in m?m[v]=m[f]:delete m[v];for(h=0;h<n;h++)m[h+S]=arguments[h+2];return m.length=y-r+n,u}})},ab13:function(t,e,n){var r=n("b622"),a=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[a]=!1,"/./"[t](e)}catch(r){}}return!1}},be0f:function(t,e,n){"use strict";var r=n("caa1"),a=n.n(r);a.a},caa1:function(t,e,n){},d81d:function(t,e,n){"use strict";var r=n("23e7"),a=n("b727").map,i=n("1dde"),s=n("ae40"),c=i("map"),o=s("map");r({target:"Array",proto:!0,forced:!c||!o},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},e621:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("van-sticky",[n("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词"},on:{search:t.onSearch,input:t.suggest},model:{value:t.value,callback:function(e){t.value="string"===typeof e?e.trim():e},expression:"value"}})],1),t.value.length?n("section",{staticClass:"suggestion"},[n("van-cell",{attrs:{center:""}},[n("span",{staticClass:"title black",attrs:{slot:"title"},slot:"title"},[t._v("你是否要搜索？")])]),t._l(t.suggestion,(function(e,r){return n("van-cell",{key:r,attrs:{center:""},on:{click:function(n){return t.goSearch(e)}}},[n("i",{staticClass:"van-icon van-icon-search",attrs:{slot:"icon"},slot:"icon"}),n("span",{staticClass:"title black",attrs:{slot:"title"},domProps:{innerHTML:t._s(e)},slot:"title"})])}))],2):n("section",{staticClass:"history"},[n("van-cell",{attrs:{center:""}},[n("span",{staticClass:"title black",attrs:{slot:"title"},slot:"title"},[t._v("搜索历史")]),n("van-icon",{staticClass:"black",attrs:{name:"delete"},on:{click:function(e){return e.stopPropagation(),t.clearHistory()}}})],1),t._l(t.history,(function(e,r){return n("van-cell",{key:r,attrs:{center:""},on:{click:function(n){return t.goSearch(e)}}},[n("i",{staticClass:"van-icon van-icon-search",attrs:{slot:"icon"},slot:"icon"}),n("span",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(e))]),n("van-icon",{attrs:{name:"cross"},on:{click:function(e){return e.stopPropagation(),t.clearHistory(r)}}})],1)}))],2)],1)},a=[],i=(n("caad"),n("d81d"),n("a434"),n("ac1f"),n("2532"),n("5319"),n("96cf"),n("1da1")),s=n("5d2d"),c=n("1925"),o={name:"search-page",data:function(){return{value:"",suggestion:[],history:[]}},methods:{goSearch:function(t){this.$router.push("/searchResult/".concat(t.replace(/<[^>]+>/g,"")))},onSearch:function(t){this.value.length&&(this.history.includes(this.value)||(this.history.unshift(this.value),s["a"].set(this.history)),this.goSearch(this.value))},suggest:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.value.length){n.next=5;break}return n.next=3,Object(c["c"])(t);case 3:r=n.sent,e.suggestion=r.data.options.map((function(t){return e.$options.filters.highLight(t,e.value)}));case 5:case"end":return n.stop()}}),n)})))()},clearHistory:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e?this.$dialog.confirm({title:"提示",message:"是否删除所有历史"}).then((function(){t.history=[]})).catch((function(){})):this.history.splice(e,1),s["a"].set(this.history)}},created:function(){this.history=s["a"].get()||[]}},l=o,u=(n("be0f"),n("2877")),h=Object(u["a"])(l,r,a,!1,null,"4d9cc40c",null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-419287be.251fce9e.js.map